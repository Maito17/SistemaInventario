<!-- possitema/templates/componentes/resumen_metodos_pago.html -->
<!-- Widget para mostrar métodos de pago utilizados en una venta -->

{% if metodos_pago %}
<div class="card card-outline card-primary">
    <div class="card-header">
        <h3 class="card-title">
            <i class="fas fa-money-bill-wave"></i> Métodos de Pago Utilizados
        </h3>
    </div>
    <div class="card-body p-0">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Método</th>
                    <th>Monto</th>
                    <th>Referencia</th>
                </tr>
            </thead>
            <tbody>
                {% for metodo in metodos_pago %}
                <tr>
                    <td>
                        <span class="badge badge-info">
                            {{ metodo.get_metodo_pago_display }}
                        </span>
                    </td>
                    <td>
                        <strong>${{ metodo.monto|floatformat:2 }}</strong>
                    </td>
                    <td>
                        {% if metodo.referencia %}
                            <small class="text-muted">{{ metodo.referencia }}</small>
                        {% else %}
                            <small class="text-muted">—</small>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
            <tfoot>
                <tr class="bg-light">
                    <th>Total</th>
                    <th><strong>${{ total_pagado|floatformat:2 }}</strong></th>
                    <th></th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>
{% else %}
<div class="card card-outline card-secondary">
    <div class="card-header">
        <h3 class="card-title">
            <i class="fas fa-money-bill-wave"></i> Métodos de Pago Utilizados
        </h3>
    </div>
    <div class="card-body">
        <div class="alert alert-info m-0">
            <small>Sin métodos de pago registrados.</small>
        </div>
    </div>
</div>
{% endif %}
